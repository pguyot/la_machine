% SPDX-License-Identifier: Apache-2.0
{erl_opts, [debug_info, {i, "_build/generated"}]}.
{deps, [
    {atomvm_esp_adf, {git, "https://github.com/pguyot/atomvm_esp_adf.git", {branch, "main"}}},
    {atomvm_adc, {git, "https://github.com/atomvm/atomvm_adc.git", {branch, "master"}}}
]}.

{pre_hooks, [
    {compile, "escript scripts/build_assets.escript"}
]}.
{shell, [
    % {config, "config/sys.config"},
    {apps, [la_machine]}
]}.
{plugins, [
    atomvm_rebar3_plugin
]}.
{profiles, [
    {check, [
        {plugins, [erlfmt]}
    ]},
    {release, []},
    {proto_20241023, [
        {erl_opts, [{d, 'HARDWARE_REVISION', proto_20241023}]}
    ]},
    {'4mb', [
        {erl_opts, [{d, 'CHOREOGRAPHIES_FILE', "choreographies-4mb.json"}]}
    ]}
]}.
